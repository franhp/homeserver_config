frontend:
  image: nginx
  restart: always
  ports:
    - "80:80"
    - "443:443"
  links:
    - manager:manager
  volumes:
    - %(containers)s/frontend/:/etc/nginx/conf.d/

manager:
  image: chimpchimp/manage-this-node
  restart: always
  volumes:
    - %(containers)s/manager/:/config
  ports:
    - "3000:3000"

transmission:
  image: linuxserver/transmission
  restart: always
  volumes:
    - /etc/localtime:/etc/localtime:ro
    - %(containers)s/transmission/:/config
    - %(home)s/Downloads:/downloads
    - %(home)s/Downloads/Torrents:/watch
  environment:
    - PGID=%(gid)s
    - PUID=%(uid)s
  ports:
    - "9091:9091"
    - "51413:51413"


jackett:
  image: kilian/docker-jackett
  restart: always
  volumes:
    - %(containers)s/jackett/:/root/.config
    - %(home)s/Downloads/Torrents:/downloads
  ports:
    - "9117:9117"


# Doesn't work as well as the native one
#plex:
#  image: linuxserver/plex
#  environment:
#    - PGID=%(gid)s
#    - PUID=%(uid)s
#    - VERSION=latest
#  ports:
#    - "32400:32400"
#    - "32400:32400/udp"
#    - "32469:32469"
#    - "32469:32469/udp"
#    - "5353:5353/udp"
#    - "1900:1900/udp"
#  volumes:
#    - %(containers)s/plex/:/config
#    - %(home)s/Movies/:/data/current
#    - /Volumes/My Passport/:/data/backup
#

plexpy:
  image: linuxserver/plexpy
  restart: always
  ports:
    - "8001:8181"
  environment:
    - PGID=%(gid)s
    - PUID=%(uid)s
    - TZ=Europe/London
  volumes:
    - %(containers)s/plexpy/:/config
    - %(home)s/Library/Logs/Plex Media Server/:/logs:ro
#    - %(containers)s/plex/Library/Application Support/Plex Media Server/Logs/:/logs:ro
#  links:
#    - plex:plex


couchpotato:
  image: linuxserver/couchpotato
  ports:
    - "5050:5050"
  environment:
    - PGID=%(gid)s
    - PUID=%(uid)s
    - TZ=Europe/London
  restart: always
  volumes:
    - %(containers)s/plexpy/:/config
    - %(home)s/Downloads:/downloads
    - %(home)s/Movies/Pelis/:/movies
  links:
    #- plex:plex
    - transmission:transmission
    - jackett:jackett

sonarr:
  image: linuxserver/sonarr
  ports:
    - "8989:8989"
  environment:
    - PGID=%(gid)s
    - PUID=%(uid)s
  restart: always
  volumes:
    #- /dev/rtc:/dev/rtc:ro
    - %(containers)s/sonarr/:/config
    - %(home)s/Movies/Series/:/tv
    - %(home)s/Downloads:/downloads
  links:
    - transmission:transmission
    - jackett:jackett

#beets:
#  image: linuxserver/beets
#  ports:
#    - "8337:8337"
#  environment:
#    - PGID=%(gid)s
#    - PUID=%(uid)s
#  volumes:
#    - /etc/localtime:/etc/localtime:ro
#    - %(containers)s/beets/:/config
#    - %(home)s/Music:/music
#    - %(home)s/Downloads:/downloads


headphones:
  image: linuxserver/headphones
  volumes:
    - %(containers)s/headphones/:/config
    - %(home)s/Downloads:/downloads
    - %(home)s/Music:/music
  restart: always
  environment:
    - PGID=%(gid)s
    - PUID=%(uid)s
    - TZ=Europe/London
  ports:
    - "8181:8181"
  links:
    - jackett:jackett
    - transmission:transmission